<!DOCTYPE html>
<html>
<head>
    <title>My Course</title>
    <style>
        
      body {
      background-image: url('https://images.unsplash.com/photo-1601662528567-526cd06f6582?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=715&q=80');
      background-size: cover;
          padding: 20px; /* Add padding to create space between the content and background */
      }

  
      .navbar {
    background-color: antiquewhite;
  }

          /* Style for the progress bar */
  #progress-bar {
      width: 50%; /* Set width to 50% */
      height: 20px;
      background-color: rgba(255, 255, 255, 0.7); /* Add semi-transparent white background */
      margin-bottom: 20px;
      float: left; /* Align to left */
  }

  #progress-bar-fill {
      height: 100%;
      background-color: rgb(35, 35, 79);
      width: 0%;
  }

  .lesson {
      border: 1px solid #ddd;
      padding: 20px;
      margin-bottom: 20px;
      width: 40%; /* Set width to 45% */
      float: left; /* Align to left */
      background-color: rgba(255, 255, 255, 0.7); /* Add semi-transparent white background */
  }

  .lesson:nth-child(2n+1) {
      margin-right: 10%; /* Add margin-right to every other lesson */
  }

  .lesson h2 {
      margin-top: 0;
      font-size: 24px; /* Increase font size */
      margin-bottom: 10px; /* Add margin bottom */
  }

  .lesson p {
      margin-bottom: 20px; /* Increase margin bottom */
      font-size: 18px; /* Increase font size */
      line-height: 1.5; /* Add line-height */
  }

  .complete-btn {
      background-color: blue;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px; /* Increase font size */
      margin-top: 10px; /* Add margin top */
  }

  .complete-btn:disabled {
      background-color: #ddd; /* Change color of disabled button */
      color: #666;
      cursor: not-allowed;
  }

  h1 {
      font-size: 32px; /* Increase font size */
      text-align: center; /* Center align */
      color: blue; /* Add white color to text */
  }
	button {
		background-color: #004AAD;
		color: #FFFFFF;
		padding: 10px 20px;
		font-size: 16px;
		font-weight: bold;
		text-decoration: none;
		border-radius: 5px;
		border: none;
		cursor: pointer;
		transition: all 0.3s ease;
		}

		button:hover {
		background-color: #002E6D;
		}

</style>
      
    
</head>
<body>
<!-- Navigation bar -->
    <h1>My Course</h1>
    <button onclick="goToCourses()">Dashboard</button>
    <div>
      <div id="progress-bar">
        <div id="progress-bar-fill"></div>
      </div>
      <p>Progress: <span id="percentage">0%</span></p>
    </div>
    <div id="lessons">
		<!-- Lesson 1 -->
		<div class="lesson">
			<a href="{% url 'lesson_one' %}" style="text-decoration:none;"><h2>Lesson 1</h2></a>
			<p>Click above to access the lesson content.</p>
			<button class="complete-btn">Complete</button>
		</div>
		<!-- Lesson 2 -->
		<div class="lesson">
			<a href="{% url 'lesson_two' %}" style="text-decoration:none;"><h2>Lesson 2</h2></a>
			<p>Click above to access the lesson content.</p>
			<button class="complete-btn">Complete</button>
		</div>
		<!-- Lesson 3 -->
		<div class="lesson">
			<a href="{% url 'lesson_three' %}" style="text-decoration:none;"><h2>Lesson 3</h2></a>
			<p>Click above to access the lesson content.</p>
			<button class="complete-btn">Complete</button>
		</div>
		<!-- Lesson 4 -->
		<div class="lesson">
			<a href="{% url 'lesson_four' %}" style="text-decoration:none;"><h2>Lesson 4</h2></a>
			<p>Click above to access the lesson content.</p>
			<button class="complete-btn">Complete</button>
		</div>
		<!-- Lesson 5 -->
		<div class="lesson">
			<a href="{% url 'lesson_five' %}" style="text-decoration:none;"><h2>Lesson 5</h2></a>
			<p>Click above to access the lesson content.</p>
			<button class="complete-btn">Complete</button>
		</div>
	
	</div>
  <script>

   //go back to dashboard
   function goToCourses() {
		  window.location.href = "http://127.0.0.1:8000/dashboard/";
		} 
// Get all the complete buttons on the page
const completeBtns = document.querySelectorAll('.complete-btn');

// Get the progress bar fill element
const progressBarFill = document.getElementById('progress-bar-fill');

// Get the percentage display element
const percentageDisplay = document.getElementById('percentage');

// Set the total number of lessons
const totalLessons = 5;

// Initialize the completed lessons count to 0
let completedLessonsCount = localStorage.getItem('completedLessonsCount') || 0;

// Update the progress bar with the initial value
const progressPercentage = (completedLessonsCount / totalLessons) * 100;
progressBarFill.style.width = `${progressPercentage}%`;
percentageDisplay.textContent = `${progressPercentage}%`;

// Add a click event listener to each complete button
completeBtns.forEach((btn, index) => {
  btn.addEventListener('click', () => {
    // Check if the completed lessons count is less than or equal to the index of the clicked lesson
    if (completedLessonsCount <= index) {
      // Increase the completed lessons count
      completedLessonsCount++;
      localStorage.setItem('completedLessonsCount', completedLessonsCount);

      // Calculate the progress percentage
      const progressPercentage = (completedLessonsCount / totalLessons) * 100;

      // Update the progress bar fill width and percentage display
      progressBarFill.style.width = `${progressPercentage}%`;
      percentageDisplay.textContent = `${progressPercentage}%`;

      // Disable the button so it can't be clicked again
      btn.disabled = true;

      // Change the button text to "Completed"
      btn.textContent = "Completed";
    }
  });
});

  </script>
</body>
</html> 